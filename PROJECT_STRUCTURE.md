# ğŸ“ PicSwap Project Structure

## Overview
Complete production-ready Blazor WebAssembly image converter with Tailwind CSS.

## ğŸ“‚ Directory Structure

```
Picswap/
â”œâ”€â”€ README.md                          # Root readme (overview)
â”œâ”€â”€ .gitignore                         # Git ignore rules
â”‚
â””â”€â”€ Picswap.Client/                    # Main Blazor WebAssembly project
    â”œâ”€â”€ README.md                      # Complete project documentation
    â”œâ”€â”€ DEPLOYMENT.md                  # Cloudflare Pages deployment guide
    â”œâ”€â”€ Picswap.Client.csproj         # Project file (.NET 8)
    â”œâ”€â”€ Program.cs                     # Application entry point
    â”œâ”€â”€ App.razor                      # Root component with routing
    â”œâ”€â”€ _Imports.razor                 # Global using statements
    â”œâ”€â”€ start.sh                       # Quick start script (Linux/Mac)
    â”‚
    â”œâ”€â”€ Pages/                         # Razor pages
    â”‚   â””â”€â”€ Index.razor               # Main converter page (upload, convert, download)
    â”‚
    â”œâ”€â”€ Shared/                        # Shared components
    â”‚   â””â”€â”€ MainLayout.razor          # Layout (header, footer, theme toggle)
    â”‚
    â”œâ”€â”€ Styles/                        # Source CSS
    â”‚   â””â”€â”€ app.css                   # Tailwind source CSS (input)
    â”‚
    â”œâ”€â”€ wwwroot/                       # Static files (served to browser)
    â”‚   â”œâ”€â”€ index.html                # Entry point HTML
    â”‚   â”œâ”€â”€ css/
    â”‚   â”‚   â””â”€â”€ app.css               # Compiled Tailwind CSS (generated)
    â”‚   â”œâ”€â”€ js/
    â”‚   â”‚   â””â”€â”€ imageConverter.js     # Image processing JavaScript
    â”‚   â”œâ”€â”€ service-worker.js         # Service worker (dev)
    â”‚   â””â”€â”€ service-worker.published.js # Service worker (production)
    â”‚
    â”œâ”€â”€ package.json                   # npm dependencies (Tailwind)
    â”œâ”€â”€ tailwind.config.js            # Tailwind configuration
    â”‚
    â”œâ”€â”€ bin/                          # Build output (git ignored)
    â”œâ”€â”€ obj/                          # Build artifacts (git ignored)
    â””â”€â”€ dist/                         # Production build (git ignored)
        â””â”€â”€ wwwroot/                  # Deploy this folder!
```

## ğŸ”‘ Key Files Explained

### Core Blazor Files

- **Program.cs**
  - Application entry point
  - Configures Blazor WebAssembly host
  - Registers services (HttpClient)

- **App.razor**
  - Root component
  - Configures routing
  - 404 page handling

- **_Imports.razor**
  - Global using statements
  - Available to all .razor files
  - Reduces boilerplate

### Pages

- **Pages/Index.razor**
  - Main application page
  - File upload with drag & drop
  - Image preview
  - Conversion controls (PNG, WebP, resize, quality)
  - Download functionality
  - Error handling
  - ~430 lines of code

### Layout

- **Shared/MainLayout.razor**
  - Header with logo and app name
  - Dark/light theme toggle
  - Footer with info
  - Wraps all pages

### Styling

- **Styles/app.css**
  - Tailwind directives (@tailwind base, components, utilities)
  - Custom component classes (btn-primary, card, upload-zone)
  - Custom scrollbar styling
  - **Input for Tailwind CLI**

- **wwwroot/css/app.css**
  - Compiled and minified Tailwind CSS
  - **Generated by `npm run build:css`**
  - **This is what gets served to browsers**

- **tailwind.config.js**
  - Tailwind configuration
  - Content paths (where to look for classes)
  - Custom theme colors (primary palette)
  - Dark mode configuration

### JavaScript

- **wwwroot/js/imageConverter.js**
  - `convertImage()` - Main conversion function (PNG/WebP)
  - `downloadImage()` - Triggers file download
  - `getImageDimensions()` - Gets image size
  - `compressImage()` - Quality adjustment
  - `batchConvert()` - Multiple images
  - Theme management helpers

### HTML

- **wwwroot/index.html**
  - Entry point HTML
  - Loading screen
  - Error UI
  - Links to CSS and JS
  - Blazor script reference

### Configuration

- **package.json**
  - npm dependencies (tailwindcss)
  - Scripts:
    - `build:css` - Compile Tailwind (minified)
    - `watch:css` - Auto-recompile on changes

- **Picswap.Client.csproj**
  - .NET project file
  - Target framework: net8.0
  - Blazor WebAssembly packages
  - Service worker configuration

## ğŸ”„ Build Process

### Development
```bash
npm install              # Install Tailwind
npm run watch:css        # Auto-rebuild CSS on changes
dotnet watch run         # Run with hot reload
```

### Production
```bash
npm run build:css        # Compile CSS (minified)
dotnet publish -c Release -o dist
# Deploy: dist/wwwroot/
```

## ğŸ¯ Technology Stack

| Component | Technology | Version |
|-----------|-----------|---------|
| Frontend Framework | Blazor WebAssembly | .NET 8.0 |
| CSS Framework | Tailwind CSS | 3.4.1 |
| JavaScript | Vanilla JS (ES6+) | - |
| Image Processing | HTML5 Canvas API | - |
| Build Tools | .NET CLI, npm | - |

## ğŸ“Š File Sizes (Approximate)

### Source Files
- Index.razor: ~16 KB
- MainLayout.razor: ~4 KB
- imageConverter.js: ~6 KB
- app.css (source): ~2 KB
- app.css (compiled): ~150 KB (dev) / ~10 KB (minified)

### Production Build
- Total wwwroot size: ~3-4 MB
  - Framework files: ~2.5 MB (Blazor runtime)
  - Application DLLs: ~500 KB
  - CSS: ~10 KB
  - JS: ~6 KB

## ğŸš€ Deployment

The `dist/wwwroot/` folder is a complete static site:
- âœ… No server-side code
- âœ… No database
- âœ… No backend APIs
- âœ… 100% client-side

**Can be deployed to:**
- Cloudflare Pages â­ (recommended)
- GitHub Pages
- Netlify
- Vercel
- Any static hosting

## ğŸ”§ Development Workflow

1. **Make changes** to .razor, .css, or .js files
2. **Rebuild CSS** (if Tailwind classes changed)
   ```bash
   npm run build:css
   ```
3. **Run** to see changes
   ```bash
   dotnet run
   ```
4. **Test** in browser
5. **Build production** when ready
   ```bash
   dotnet publish -c Release -o dist
   ```

## ğŸ¨ Customization Guide

### Change Colors
Edit `tailwind.config.js`:
```js
colors: {
  primary: {
    500: '#0ea5e9',  // Your color here
    // ...
  }
}
```

### Add New Page
1. Create `Pages/NewPage.razor`
2. Add `@page "/new-page"`
3. Navigation automatically works

### Add Custom CSS
Edit `Styles/app.css`:
```css
@layer components {
  .my-custom-class {
    @apply bg-blue-500 text-white;
  }
}
```

### Add JavaScript Function
Edit `wwwroot/js/imageConverter.js`:
```js
window.imageConverter.myFunction = function() {
  // Your code
};
```

Call from C#:
```csharp
await JS.InvokeVoidAsync("imageConverter.myFunction");
```

## ğŸ“ Code Quality

### Best Practices Implemented
- âœ… Proper error handling
- âœ… Loading states
- âœ… Responsive design
- âœ… Accessibility (semantic HTML)
- âœ… Code comments
- âœ… Separation of concerns
- âœ… Reusable components
- âœ… Performance optimized

### Areas for Improvement (Optional)
- Add unit tests
- Add component tests
- Implement analytics
- Add more image formats (AVIF, HEIC)
- Add batch download (ZIP)
- Add image filters/effects

## ğŸ” Troubleshooting

### CSS not applying
```bash
rm wwwroot/css/app.css
npm run build:css
```

### Build errors
```bash
dotnet clean
dotnet restore
dotnet build
```

### JavaScript errors
- Check browser console (F12)
- Ensure imageConverter.js is loaded
- Check for typos in function names

## ğŸ“ˆ Performance

- **First Load**: ~2-4 seconds (loads Blazor runtime)
- **Subsequent Loads**: Instant (cached)
- **Image Conversion**: <1 second (for typical images)
- **Bundle Size**: ~3-4 MB (reasonable for WASM app)

## ğŸ” Security

- âœ… No server-side code (no attack surface)
- âœ… No data transmission (privacy)
- âœ… No authentication needed
- âœ… Static files only
- âœ… HTTPS enforced by host

## ğŸ“¦ Dependencies

### .NET Packages
- Microsoft.AspNetCore.Components.WebAssembly (8.0.0)
- Microsoft.AspNetCore.Components.WebAssembly.DevServer (8.0.0)

### npm Packages
- tailwindcss (^3.4.1)

**No other external dependencies!**

## ğŸ“ Learning Resources

- [Blazor Docs](https://learn.microsoft.com/aspnet/core/blazor/)
- [Tailwind CSS Docs](https://tailwindcss.com/docs)
- [Canvas API Docs](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)

---

**Last Updated**: January 2026
**Project Version**: 1.0.0
**Status**: Production Ready âœ…
